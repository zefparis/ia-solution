{% extends "layout.html" %}

{% block title %}Consultation Business{% endblock %}

{% block content %}
<div class="container py-5">
    <div class="row justify-content-center">
        <div class="col-lg-8">
            <h1 class="mb-4 text-center">Consultation Business Personnalisée</h1>
            <p class="lead text-center mb-5">Analysez votre entreprise et obtenez des recommandations personnalisées</p>
            
            <div class="alert alert-info mb-4">
                <h5 class="alert-heading"><i class="bi bi-info-circle me-2"></i>Information importante</h5>
                <p class="mb-0">Après soumission du formulaire, vous serez redirigé vers le rapport d'analyse complet. L'analyse peut prendre quelques secondes à générer.</p>
            </div>
            
            <form method="POST" action="{{ url_for('business.business_consultation_basic') }}" class="basic-form">
                {{ form.hidden_tag() }}
                
                <div class="card shadow-sm mb-4">
                    <div class="card-header bg-primary bg-gradient text-white">
                        <h5 class="mb-0">Informations de base</h5>
                    </div>
                    <div class="card-body">
                        <div class="mb-3">
                            <label for="company_name" class="form-label">Nom de l'entreprise</label>
                            {{ form.company_name(class="form-control", id="company_name") }}
                            {% if form.company_name.errors %}
                                <div class="alert alert-danger mt-2">
                                    {% for error in form.company_name.errors %}
                                        {{ error }}
                                    {% endfor %}
                                </div>
                            {% endif %}
                        </div>
                        
                        <div class="mb-3">
                            <label for="industry" class="form-label">Secteur d'activité</label>
                            {{ form.industry(class="form-select", id="industry") }}
                            {% if form.industry.errors %}
                                <div class="alert alert-danger mt-2">
                                    {% for error in form.industry.errors %}
                                        {{ error }}
                                    {% endfor %}
                                </div>
                            {% endif %}
                        </div>
                        
                        <div class="mb-3">
                            <label for="company_size" class="form-label">Taille de l'entreprise</label>
                            {{ form.company_size(class="form-select", id="company_size") }}
                            {% if form.company_size.errors %}
                                <div class="alert alert-danger mt-2">
                                    {% for error in form.company_size.errors %}
                                        {{ error }}
                                    {% endfor %}
                                </div>
                            {% endif %}
                        </div>
                        
                        <div class="mb-3">
                            <label for="company_age" class="form-label">Âge de l'entreprise</label>
                            {{ form.company_age(class="form-select", id="company_age") }}
                            {% if form.company_age.errors %}
                                <div class="alert alert-danger mt-2">
                                    {% for error in form.company_age.errors %}
                                        {{ error }}
                                    {% endfor %}
                                </div>
                            {% endif %}
                        </div>
                    </div>
                </div>
                
                <div class="card shadow-sm mb-4">
                    <div class="card-header bg-primary bg-gradient text-white">
                        <h5 class="mb-0">Défis et objectifs</h5>
                    </div>
                    <div class="card-body">
                        <div class="mb-3">
                            <label for="business_challenges" class="form-label">Défis actuels</label>
                            {{ form.business_challenges(class="form-control", id="business_challenges", rows="3") }}
                            {% if form.business_challenges.errors %}
                                <div class="alert alert-danger mt-2">
                                    {% for error in form.business_challenges.errors %}
                                        {{ error }}
                                    {% endfor %}
                                </div>
                            {% endif %}
                        </div>
                        
                        <div class="mb-3">
                            <label for="growth_goals" class="form-label">Objectifs de croissance</label>
                            {{ form.growth_goals(class="form-control", id="growth_goals", rows="3") }}
                            {% if form.growth_goals.errors %}
                                <div class="alert alert-danger mt-2">
                                    {% for error in form.growth_goals.errors %}
                                        {{ error }}
                                    {% endfor %}
                                </div>
                            {% endif %}
                        </div>
                        
                        <div class="mb-4">
                            <label for="current_strengths" class="form-label">Points forts actuels</label>
                            {{ form.current_strengths(class="form-control", id="current_strengths", rows="3") }}
                            {% if form.current_strengths.errors %}
                                <div class="alert alert-danger mt-2">
                                    {% for error in form.current_strengths.errors %}
                                        {{ error }}
                                    {% endfor %}
                                </div>
                            {% endif %}
                        </div>
                        
                        <div class="mb-3">
                            <label for="improvement_areas" class="form-label">Domaines à améliorer:</label>
                            <div class="form-group">
                                {{ form.improvement_areas(class="form-control", id="improvement_areas", style="height: 150px;") }}
                                {% if form.improvement_areas.errors %}
                                    <div class="alert alert-danger mt-2">
                                        {% for error in form.improvement_areas.errors %}
                                            {{ error }}
                                        {% endfor %}
                                    </div>
                                {% endif %}
                                <small class="form-text text-muted">Sélectionnez plusieurs domaines en maintenant la touche Ctrl (ou Cmd sur Mac) enfoncée.</small>
                            </div>
                        </div>
                        
                        <div class="mb-3">
                            <label for="additional_info" class="form-label">Informations complémentaires</label>
                            {{ form.additional_info(class="form-control", id="additional_info", rows="3") }}
                            {% if form.additional_info.errors %}
                                <div class="alert alert-danger mt-2">
                                    {% for error in form.additional_info.errors %}
                                        {{ error }}
                                    {% endfor %}
                                </div>
                            {% endif %}
                        </div>
                    </div>
                </div>
                
                <div class="alert alert-warning mb-4">
                    <p class="mb-0"><i class="bi bi-exclamation-triangle me-2"></i> <strong>Note :</strong> Le processus d'analyse peut prendre jusqu'à 30 secondes. Merci de votre patience.</p>
                </div>
                
                <div class="d-grid gap-2">
                    <button type="submit" class="btn btn-lg btn-primary">Obtenir mon analyse personnalisée</button>
                </div>
            </form>
        </div>
    </div>
</div>
{% endblock %}